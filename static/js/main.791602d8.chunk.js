(this["webpackJsonpair-quality"]=this["webpackJsonpair-quality"]||[]).push([[0],{133:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),i=r(24),a=r.n(i),o=r(18),s=r(15),l=r(32),u=r(6),d=function(e){var t=e.children;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.Flex,{direction:"column",position:"relative",minHeight:"100vh",bgGradient:"linear(to-r,  #6a0dad, #0da2ff)",align:"center",children:Object(u.jsx)(l.Box,{with:"100%",paddingTop:"60px",paddingLeft:"20px",paddingRight:"20px",paddingBottom:"30px",children:t})})})},h=r(27),j=r(42),b=r.n(j),p=r(53),f=r(54),x=r.n(f).a.create({baseURL:"https://docs.openaq.org"}),O=function(e,t,r){return x.request({method:e,url:t,params:r})},m=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/v2/cities?limit=100&page=1&offset=0&sort=asc&country_id=GB&order_by=city",e.next=3,O("GET","/v2/cities?limit=100&page=1&offset=0&sort=asc&country_id=GB&order_by=city",{}).then((function(e){return e.data})).catch((function(e){if(e)return{error:!0,errorMsg:e.message,meta:null,results:null}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.Text,{textStyle:"h1",children:"Compare your Air"}),Object(u.jsx)(l.Text,{paddingTop:"40px",id:"header",paddingBottom:"5px",children:"Compare the air quality between cities in the UK."}),Object(u.jsx)(l.Text,{children:"Select cities to compare using the search tool below."})]})},y=r(55),v=r(38),S=r(34),F=function(e){e.label;var t=e.placeholder,r=e.itemsList,c=e.handleSelectedItemsChange,i=e.selectedItems,a=Object(n.useState)(r),l=Object(s.a)(a,2),d=l[0];l[1];return Object(u.jsx)(y.CUIAutoComplete,{label:"",placeholder:t,items:d,disableCreateItem:!0,selectedItems:i,onSelectedItemsChange:function(e){return c(e.selectedItems)},hideToggleButton:!0,renderCustomInput:function(e){return Object(u.jsxs)(S.InputGroup,{rounded:"md",children:[Object(u.jsx)(S.InputLeftElement,{pointerEvents:"none",children:Object(u.jsx)(v.SearchIcon,{color:"gray.300"})}),Object(u.jsx)(S.Input,Object(o.a)(Object(o.a)({},e),{},{color:"#ffffff"}))]})}})},C=function(e){var t=e.label,r=e.placeholder,c=e.itemsList,i=Object(n.useState)([]),a=Object(s.a)(i,2),o=a[0],l=a[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(F,{label:t,placeholder:r,itemsList:c,handleSelectedItemsChange:function(e){e&&l(e)},selectedItems:o})})},I=function(e){var t=Object(n.useState)(null),r=Object(s.a)(t,2),c=r[0],i=r[1],a=Object(n.useState)(!1),j=Object(s.a)(a,2),b=(j[0],j[1]),p=Object(n.useState)(!1),f=Object(s.a)(p,2),x=f[0],O=f[1],y=Object(n.useState)(null),v=Object(s.a)(y,2),S=v[0],F=v[1];return Object(n.useEffect)((function(){if(!c){O(!0);var e=m();i(e),O(!1)}}),[]),Object(n.useEffect)((function(){null===c||void 0===c||c.then((function(e){if(e.results){var t=[];e.results.map((function(e){var r=Object(o.a)(Object(o.a)({},e),{},{label:e.city,value:e.city});t.push(r)})),F({cities:t}),console.log(e.results)}e.error&&b(!0)}))}),[c]),Object(u.jsx)(d,{children:Object(u.jsxs)(l.Box,{width:"100%",height:"100%",textAlign:"center",children:[Object(u.jsx)(g,{}),Object(u.jsx)(l.Box,{paddingTop:"30px",paddingBottom:"30px",color:"#000000",fontSize:"16px",width:"100%",children:x?Object(u.jsx)(h.a,{}):Object(u.jsx)(u.Fragment,{children:S&&S.cities.length>0&&Object(u.jsx)(C,{label:"Search City",placeholder:"Type City name",itemsList:S.cities})})})]})})},w=function(e){return Object(u.jsx)(I,{})};var B=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(w,{})})},E=r(16),T=Object(E.b)({styles:{global:function(){return{"html, body":{overflowX:"hidden",fontSize:["18px","25px"],scrollBehavior:"smooth",color:"#FFFFFF"}}}},textStyles:{h1:{fontSize:["30px","40px"],lineHeight:"100%",fontWeight:"bold"},h2:{fontSize:["36px","48px"],fontWeight:"semibold",lineHeight:"110%",letterSpacing:"-1%"}},fonts:{heading:"Open Sans",body:"Open Sans"},colors:{primary:"#FFFFFF"},space:{},config:{cssVarPrefix:"air-quality",initialColorMode:"light",useSystemColorMode:!1}}),L=(r(132),r(58)),k=r(59),q=r(61),G=r(60),z=function(e){Object(q.a)(r,e);var t=Object(G.a)(r);function r(){var e;Object(L.a)(this,r);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(k.a)(r,[{key:"componentDidCatch",value:function(e,t){console.error("Uncaught error:",e,t)}},{key:"render",value:function(){return this.state.hasError?Object(u.jsx)("h1",{children:"Sorry.. there was an error that was weird!"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(n.Component);a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(E.a,{theme:T,children:Object(u.jsx)(z,{children:Object(u.jsx)(B,{})})})}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.791602d8.chunk.js.map