(this["webpackJsonpair-quality"]=this["webpackJsonpair-quality"]||[]).push([[0],{133:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),i=r(24),a=r.n(i),o=r(18),s=r(15),l=r(32),u=r(6),d=function(e){var t=e.children;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.Flex,{direction:"column",position:"relative",minHeight:"100vh",bgGradient:"linear(to-r,  #6a0dad, #0da2ff)",align:"center",justifyContent:"center",children:Object(u.jsx)(l.Box,{with:"100%",padding:"20px",children:t})})})},j=r(27),h=r(53),b=r(42),p=r.n(b),f=r(54),O=r(55),x=r.n(O).a.create({baseURL:"https://docs.openaq.org"}),m=function(e,t,r){return x.request({method:e,url:t,params:r})},g=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/v2/cities?limit=100&page=1&offset=0&sort=asc&country_id=GB&order_by=city",e.next=3,m("GET","/v2/cities?limit=100&page=1&offset=0&sort=asc&country_id=GB&order_by=city",{}).then((function(e){return e.data})).catch((function(e){if(e)return{error:!0,errorMsg:e.message,meta:null,results:null}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.Text,{textStyle:"h1",children:"Compare your Air"}),Object(u.jsx)(l.Text,{paddingTop:"40px",id:"header",paddingBottom:"5px",children:"Compare the air quality between cities in the UK."}),Object(u.jsx)(l.Text,{children:"Select cities to compare using the search tool below."})]})},v=r(56),S=r(38),F=r(34),w=function(e){var t=e.label,r=e.placeholder,c=e.itemsList,i=e.handleSelectedItemsChange,a=e.selectedItems,l=Object(n.useState)(c),d=Object(s.a)(l,2),j=d[0];d[1];return Object(u.jsx)(v.CUIAutoComplete,{label:t,placeholder:r,items:j,disableCreateItem:!0,selectedItems:a,onSelectedItemsChange:function(e){return i(e.selectedItems)},hideToggleButton:!0,renderCustomInput:function(e){return Object(u.jsxs)(F.InputGroup,{rounded:"md",children:[Object(u.jsx)(F.InputLeftElement,{pointerEvents:"none",children:Object(u.jsx)(S.SearchIcon,{color:"gray.300"})}),Object(u.jsx)(F.Input,Object(o.a)(Object(o.a)({},e),{},{color:"#ffffff"}))]})},listStyleProps:{overflow:"auto",rounded:"md"}})},C=function(e){var t=e.label,r=e.placeholder,c=e.itemsList,i=Object(n.useState)([]),a=Object(s.a)(i,2),o=a[0],l=a[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(w,{label:t,placeholder:r,itemsList:c,handleSelectedItemsChange:function(e){e&&l(e)},selectedItems:o})})},I=function(e){var t=Object(n.useState)(null),r=Object(s.a)(t,2),c=r[0],i=r[1],a=Object(n.useState)(!1),b=Object(s.a)(a,2),p=b[0],f=b[1],O=Object(n.useState)(!1),x=Object(s.a)(O,2),m=x[0],v=x[1],S=Object(n.useState)(null),F=Object(s.a)(S,2),w=F[0],I=F[1];return Object(n.useEffect)((function(){if(!c){v(!0);var e=g();i(e),v(!1)}}),[]),Object(n.useEffect)((function(){null===c||void 0===c||c.then((function(e){if(e.results){var t=[];e.results.map((function(e){var r=Object(o.a)(Object(o.a)({},e),{},{label:e.city,value:e.city});t.push(r)})),I({cities:t})}e.error&&f(!0)}))}),[c]),Object(u.jsx)(d,{children:Object(u.jsxs)(l.Box,{width:"100%",height:"100%",textAlign:"center",children:[Object(u.jsx)(y,{}),Object(u.jsx)(l.Box,{paddingTop:"30px",paddingBottom:"30px",color:"#000000",fontSize:"16px",width:"100%",children:m?Object(u.jsx)(j.a,{}):Object(u.jsx)(u.Fragment,{children:p?Object(u.jsxs)(h.a,{status:"error",children:[Object(u.jsx)(h.b,{}),"There was an error retrieving cities data"]}):Object(u.jsx)(u.Fragment,{children:w&&w.cities.length>0&&Object(u.jsx)(C,{label:"",placeholder:"Type City name",itemsList:w.cities})})})})]})})},B=function(e){return Object(u.jsx)(I,{})};var E=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(B,{})})},T=r(16),k=Object(T.b)({styles:{global:function(){return{"html, body":{overflowX:"hidden",fontSize:["18px","25px"],scrollBehavior:"smooth",color:"#FFFFFF"}}}},textStyles:{h1:{fontSize:["30px","40px"],lineHeight:"100%",fontWeight:"bold"},h2:{fontSize:["36px","48px"],fontWeight:"semibold",lineHeight:"110%",letterSpacing:"-1%"}},fonts:{heading:"Open Sans",body:"Open Sans"},colors:{primary:"#FFFFFF"},space:{},config:{cssVarPrefix:"air-quality",initialColorMode:"light",useSystemColorMode:!1}}),q=(r(132),r(59)),L=r(60),G=r(62),z=r(61),A=function(e){Object(G.a)(r,e);var t=Object(z.a)(r);function r(){var e;Object(q.a)(this,r);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(L.a)(r,[{key:"componentDidCatch",value:function(e,t){console.error("Uncaught error:",e,t)}},{key:"render",value:function(){return this.state.hasError?Object(u.jsx)("h1",{children:"Sorry.. there was an error that was weird!"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(n.Component);a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(T.a,{theme:k,children:Object(u.jsx)(A,{children:Object(u.jsx)(E,{})})})}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.a90621fe.chunk.js.map